(this["webpackJsonpcovid-map-app"]=this["webpackJsonpcovid-map-app"]||[]).push([[0],{48:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAIO2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIKICAgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiCiAgIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTAyLTEyVDEyOjU2OjA2LTA4OjAwIgogICB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA3LTA0VDIzOjEyOjA1LTA3OjAwIgogICB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNy0wNFQyMzoxMjowNS0wNzowMCIKICAgZGM6Zm9ybWF0PSJhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjI0ODQzZDdiLWFkMGEtNGU2NC1iZjc3LTQwNTA4OGQxNDBkNyIKICAgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDplY2MyOTgwOC04NDMwLTQxYjEtODE0MC1mZTg5NjkzYjg2N2QiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDplY2MyOTgwOC04NDMwLTQxYjEtODE0MC1mZTg5NjkzYjg2N2QiCiAgIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiCiAgIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgdGlmZjpYUmVzb2x1dGlvbj0iNDMxLjc5OTk4OCIKICAgdGlmZjpZUmVzb2x1dGlvbj0iNDMxLjc5OTk4OCIKICAgdGlmZjpSZXNvbHV0aW9uVW5pdD0iMiIKICAgdGlmZjpJbWFnZVdpZHRoPSIxMDAiCiAgIHRpZmY6SW1hZ2VMZW5ndGg9IjEwMCIKICAgZXhpZjpDb2xvclNwYWNlPSIxIgogICBleGlmOlBpeGVsWERpbWVuc2lvbj0iMTAwIgogICBleGlmOlBpeGVsWURpbWVuc2lvbj0iMTAwIj4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDplY2MyOTgwOC04NDMwLTQxYjEtODE0MC1mZTg5NjkzYjg2N2QiCiAgICAgIHN0RXZ0OndoZW49IjIwMTgtMDItMTJUMTI6NTY6MDYtMDg6MDAiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoTWFjaW50b3NoKSIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoyNDg0M2Q3Yi1hZDBhLTRlNjQtYmY3Ny00MDUwODhkMTQwZDciCiAgICAgIHN0RXZ0OndoZW49IjIwMTgtMDItMTJU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"},50:function(t,e,o){t.exports=o(78)},76:function(t,e,o){},77:function(t,e,o){},78:function(t,e,o){"use strict";o.r(e);var a=o(0),n=o.n(a),c=o(26),r=o.n(c),i=o(17),l=o(13),s=o(22),u=o(46),g=o(15),p=o(6),d=o(47),m=o.n(d),C=o(48),A=o.n(C),v=function(){var t=Object(a.useState)(""),e=Object(g.a)(t,2),o=e[0];e[1];return o?n.a.createElement(p.a,{to:o}):n.a.createElement("nav",{className:"navbar navbar-dark bg-primary navbar-expand-lg"},n.a.createElement(i.b,{className:"navbar-brand",to:"/covid-map-app/"},n.a.createElement("img",{src:A.a,width:"30",height:"30",alt:"",loading:"lazy"})),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"}))},b=o(5),I=o(8),y=o(16),E=o(33),h=Object(l.b)((function(t){return{total:t.total,points:t.points,clusterPoints:t.clusterPoints}}),{})((function(t){var e=t.width,o=t.height,c=t.points,r=t.total,i=t.clusterPoints,l=Object(p.g)(),s=function(t){return"location"===l.location.pathname.split("/").slice(-1)[0].toLocaleLowerCase()&&l.location.search?l.location.search.substr(1).split("&").reduce((function(e,o){return!e&&o.startsWith(t)?o.split("=")[1]:e}),null):null},u={ACTIVE:"active",CONFIRMED:"totalConfirmed",DEATHS:"totalDeaths",RECOVERED:"totalRecovered",DEFAULT:"totalDeaths"},d=s("option")?u[s("option").toUpperCase()]:u.DEFAULT,m=Object(a.useState)({latitude:s("lat")?parseFloat(s("lat")):0,longitude:s("lon")?parseFloat(s("lon")):0,width:e,height:o,zoom:s("zoom")?parseFloat(s("zoom")):0}),C=Object(g.a)(m,2),A=C[0],v=C[1],h=Object(a.useRef)(),D=h.current?h.current.getMap().getBounds().toArray().flat():null,j=Object(E.a)({points:i,zoom:A.zoom,bounds:D,options:{radius:75,maxZoom:20}}),O=j.clusters,R=j.supercluster,Z=Object(E.a)({points:c.reduce((function(t,e){return"None"===e.point.geometry.type||e.provincePoints.length>0?t:[].concat(Object(I.a)(t),[e.point])}),[]),zoom:A.zoom,bounds:D,options:{radius:75,maxZoom:20}}),T=Z.clusters,L=Z.supercluster,w=function t(e,o){return e.properties.cluster?o.getChildren(e.id).reduce((function(e,a){return e+t(a,o)}),0):e.properties.cases[d]},S=function(){return r[d]};return n.a.createElement(y.c,Object.assign({},A,{maxZoom:20,mapboxApiAccessToken:"pk.eyJ1IjoibGltZXBlYWNoIiwiYSI6ImNrY2RyNXVicDAxN2UzM3A4aGVkbmNlazMifQ.Yz5AUxZ_z7jd5QrcJS1mpQ",onViewportChange:function(t){return v(t)},mapStyle:"mapbox://styles/mapbox/dark-v10",ref:h}),T.map((function(t){return w(t,L)?n.a.createElement(y.b,{key:"countryCluster-".concat(t.id?t.id:t.properties.country),latitude:t.geometry.coordinates[1],longitude:t.geometry.coordinates[0]},n.a.createElement("div",{onClick:function(){var e=t.id?Math.min(L.getClusterExpansionZoom(t.id),20):A.zoom;v(Object(b.a)(Object(b.a)({},A),{},{latitude:t.geometry.coordinates[1],longitude:t.geometry.coordinates[0],zoom:e,transitionInterpolator:new y.a({speed:2}),transitionDuration:"auto"})),console.log(l),l.push({pathname:"/covid-map-app/location",search:"?lat=".concat(t.geometry.coordinates[1],"&lon=").concat(t.geometry.coordinates[0],"&zoom=").concat(e)})},className:w(t,L)?"country-marker":"zero-marker",style:{width:"".concat(5+A.zoom/5+w(t,L)/S()*(200+300*A.zoom)+S()/(1e6*w(t,L))/5,"px"),height:"".concat(5+A.zoom/5+w(t,L)/S()*(200+300*A.zoom)+S()/(1e6*w(t,L))/5,"px")}})):null})),O.map((function(t){var e=Object(g.a)(t.geometry.coordinates,2),o=e[0],a=e[1],c=t.properties.cluster,r=w(t,R);return c?r?n.a.createElement(y.b,{key:"generalCluster-".concat(t.id),latitude:a,longitude:o},n.a.createElement("div",{className:w(t,R)?"cluster-marker":"zero-marker",style:{width:"".concat(5+A.zoom/5+r/S()*(200+300*A.zoom)+S()/(1e6*r)/5,"px"),height:"".concat(5+A.zoom/5+r/S()*(200+300*A.zoom)+S()/(1e6*r)/5,"px")},onClick:function(){var e=Math.min(R.getClusterExpansionZoom(t.id),20);v(Object(b.a)(Object(b.a)({},A),{},{latitude:a,longitude:o,zoom:e,transitionInterpolator:new y.a({speed:2}),transitionDuration:"auto"}))}})):null:r?n.a.createElement(y.b,{key:"".concat(t.properties.countryCode).concat(t.properties.province?"-"+t.properties.province:"").concat(t.properties.cityCode?"-"+t.properties.cityCode:""),latitude:a,longitude:o},n.a.createElement("div",{onClick:function(){v(Object(b.a)(Object(b.a)({},A),{},{latitude:a,longitude:o,transitionInterpolator:new y.a({speed:2}),transitionDuration:"auto"}))},className:w(t,R)?"cluster-marker":"zero-marker",style:{width:"".concat(5+A.zoom/5+r/S()*(200+300*A.zoom)+S()/(1e6*r)/5,"px"),height:"".concat(5+A.zoom/5+r/S()*(200+300*A.zoom)+S()/(1e6*r)/5,"px")}})):null})))})),D=Object(l.b)((function(t){return{virusData:t.virusData,points:t.points,clusterPoints:t.clusterPoints}}),{})((function(t){t.virusData;var e=t.points,o=t.clusterPoints;return n.a.createElement(n.a.Fragment,null,n.a.createElement(v,null),e.length>0&&o.length>0?n.a.createElement(h,{width:"100%",height:"90vh"}):null,n.a.createElement("div",{className:"container"},console.log(e),e.length>0&&o.length>0?null:n.a.createElement("h1",null,"Loading . . .")))})),j=Object(l.b)((function(t){return{virusData:t.virusData,points:t.points,clusterPoints:t.clusterPoints}}),{})((function(t){t.virusData;var e=t.points,o=t.clusterPoints,a=Object(p.h)();console.log("Location",a);var c=Object(p.g)();return console.log("History",c),n.a.createElement(n.a.Fragment,null,n.a.createElement(v,null),e.length>0&&o.length>0?n.a.createElement(h,{width:"100%",height:"50vh"}):null,n.a.createElement("div",{className:"container"},console.log(e),e.length>0&&o.length>0?null:n.a.createElement("h1",null,"Loading . . .")))})),O=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(v,null),n.a.createElement("div",{className:"container"},n.a.createElement("h1",null,"404 Page Not Found")))},R=(o(76),{fetchVirusData:function(){return function(t){m.a.get("https://api.covid19api.com/all").then((function(e){return t({type:"FETCH_VIRUS_DATA",virusData:e})})).catch((function(e){return console.error(e),t({type:"FETCH_VIRUS_DATA",virusData:{status:404}})}))}},fetchDates:function(){return{type:"FETCH_DATES"}},fetchCountries:function(t){return{type:"FETCH_COUNTRIES",date:t}},fetchTotalCases:function(t){return{type:"FETCH_TOTAL_CASES",date:t}},fetchPoints:function(t){return{type:"FETCH_POINTS",date:t}},fetchClusterPoints:function(t){return{type:"FETCH_CLUSTER_POINTS",date:t}}}),Z=Object(l.b)((function(t){return{virusData:t.virusData,points:t.points,clusterPoints:t.clusterPoints}}),R)((function(t){var e=t.virusData,o=(t.points,t.clusterPoints,t.fetchVirusData),c=t.fetchDates,r=t.fetchCountries,i=t.fetchTotalCases,l=t.fetchPoints,s=t.fetchClusterPoints,u=Object(a.useState)(!1),d=Object(g.a)(u,2),m=d[0],C=d[1];return Object(a.useEffect)((function(){m||(console.log("Getting Virus Data"),o(),C(!0)),m&&Object.keys(e).length>0&&(console.log("Getting Dates"),c(),console.log("Getting Countries"),r(),console.log("Getting Total Cases"),i(),console.log("Getting Points"),l(),s())}),[m,e,o,c,r,i,l,s]),n.a.createElement("div",{className:"App"},n.a.createElement(p.d,null,n.a.createElement(p.b,{exact:!0,path:"/"},n.a.createElement(p.a,{to:"/covid-map-app/"})),n.a.createElement(p.b,{exact:!0,path:"/covid-map-app/"},n.a.createElement(D,null)),n.a.createElement(p.b,{path:"/covid-map-app/location"},n.a.createElement(j,null)),n.a.createElement(O,null)))})),T={virusData:{},dates:new Map,countries:new Map,points:[],total:0,clusterPoints:[]},L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_VIRUS_DATA":return console.log("Virus Data",e.virusData),Object(b.a)(Object(b.a)({},t),{},{virusData:e.virusData});case"FETCH_DATES":var o=new Map;return t.virusData.data.forEach((function(t){return o.has(t.Date)?o.set(t.Date,[].concat(Object(I.a)(o.get(t.Date)),[t])):o.set(t.Date,[t])})),console.log("Dates",o),Object(b.a)(Object(b.a)({},t),{},{dates:o});case"FETCH_COUNTRIES":var a=new Map;return t.dates.get(e.date?e.date:Object(I.a)(t.dates.keys())[t.dates.size-1]).forEach((function(t){var e=new Map,o=new Map,n={},c={};a.has(t.Country)?(e=a.get(t.Country).provinces,t.Province.length>0&&(a.get(t.Country).provinces.has(t.Province)&&(o=a.get(t.Country).provinces.get(t.Province).cities,t.City&&!o.has(t.City)&&o.set(t.City,t)),e.has(t.Province)?e.set(t.Province,{places:[].concat(Object(I.a)(e.get(t.Province).places),[t]),cities:o}):e.set(t.Province,{places:[t],cities:o})),t.Province||t.City&&"Unassigned"!==t.City?(n=a.get(t.Country).totalCases,c=a.get(t.Country).coordinates):(n={active:t.Active,totalConfirmed:t.Confirmed,totalDeaths:t.Deaths,totalRecovered:t.Recovered},c={Lon:t.Lon,Lat:t.Lat}),a.set(t.Country,{places:[].concat(Object(I.a)(a.get(t.Country).places),[t]),totalCases:n,coordinates:c,countryCode:t.CountryCode,provinces:e})):(t.Province.length>0&&(t.City&&o.set(t.City,t),e.set(t.Province,{places:[t],cities:o})),t.Province||t.City&&"Unassigned"!==t.City||(n={active:t.Active,totalConfirmed:t.Confirmed,totalDeaths:t.Deaths,totalRecovered:t.Recovered},c={Lon:t.Lon,Lat:t.Lat}),a.set(t.Country,{places:[t],totalCases:n,coordinates:c,countryCode:t.CountryCode,provinces:e}))})),console.log("Countries",a),Object(b.a)(Object(b.a)({},t),{},{countries:a});case"FETCH_TOTAL_CASES":var n=Object(I.a)(t.countries.keys()).reduce((function(e,o){return Object.keys(t.countries.get(o).totalCases).length>0?Object(b.a)(Object(b.a)({},e),{},{active:e.active+t.countries.get(o).totalCases.active,totalConfirmed:e.totalConfirmed+t.countries.get(o).totalCases.totalConfirmed,totalDeaths:e.totalDeaths+t.countries.get(o).totalCases.totalDeaths,totalRecovered:e.totalRecovered+t.countries.get(o).totalCases.totalRecovered}):Object(b.a)(Object(b.a)({},e),t.countries.get(o).places.reduce((function(t,e,o){return{active:t.active+e.Active,totalConfirmed:t.totalConfirmed+e.Confirmed,totalDeaths:t.totalDeaths+e.Deaths,totalRecovered:t.totalRecovered+e.Recovered}}),e))}),{day:e.date?e.date:Object(I.a)(t.dates.keys())[t.dates.size-1],active:0,totalConfirmed:0,totalDeaths:0,totalRecovered:0});return console.log("Total",n),Object(b.a)(Object(b.a)({},t),{},{total:n});case"FETCH_POINTS":var c=Object(I.a)(t.countries.keys()).map((function(e){return{point:{type:"Feature",properties:{cluster:!1,category:"country",cases:Object.keys(t.countries.get(e).totalCases).length>0?t.countries.get(e).totalCases:t.countries.get(e).places.reduce((function(t,e){return e.Province.length>0||e.City.length>0?{active:t.active+e.Active,totalConfirmed:t.totalConfirmed+e.Confirmed,totalDeaths:t.totalDeaths+e.Deaths,totalRecovered:t.totalRecovered+e.Recovered}:t}),{active:0,totalConfirmed:0,totalDeaths:0,totalRecovered:0}),country:e,countryCode:t.countries.get(e).countryCode},geometry:{type:Object.keys(t.countries.get(e).coordinates).length>0?"Point":"None",coordinates:Object.keys(t.countries.get(e).coordinates).length>0?[parseFloat(t.countries.get(e).coordinates.Lon),parseFloat(t.countries.get(e).coordinates.Lat)]:[]}},provincePoints:t.countries.get(e).provinces?Object(I.a)(t.countries.get(e).provinces.keys()).map((function(o){return t.countries.get(e).provinces.get(o).places.map((function(o){return{type:"Feature",properties:{cluster:!1,category:o.City?"city":"province",cases:{active:o.Active,totalConfirmed:o.Confirmed,totalDeaths:o.Deaths,totalRecovered:o.Recovered},city:o.City,cityCode:o.CityCode,country:e,countryCode:t.countries.get(e).countryCode,province:o.Province},geometry:{type:"Point",coordinates:[parseFloat(o.Lon),parseFloat(o.Lat)]}}}))})):[]}}));return console.log("Points",c),Object(b.a)(Object(b.a)({},t),{},{points:c});case"FETCH_CLUSTER_POINTS":var r=t.points.reduce((function(t,e){return e.provincePoints.length>0?[].concat(Object(I.a)(t),Object(I.a)(e.provincePoints.reduce((function(t,e){return[].concat(Object(I.a)(t),Object(I.a)(e))}),[]))):t}),[]);return console.log("Cluster Points",r),Object(b.a)(Object(b.a)({},t),{},{clusterPoints:r});default:return Object(b.a)({},t)}},w=(o(77),Object(s.c)(L,Object(s.a)(u.a)));r.a.render(n.a.createElement(l.a,{store:w},n.a.createElement(i.a,null,n.a.createElement(n.a.StrictMode,null,n.a.createElement(Z,null)))),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.9581c18b.chunk.js.map